<!DOCTYPE html>
<html>
<head>
    <title>Import Coaches - Correct Project</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 { color: #333; }
        button {
            background: #4CAF50;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
        }
        button:hover { background: #45a049; }
        button:disabled { background: #ccc; cursor: not-allowed; }
        .danger { background: #dc3545; }
        .danger:hover { background: #c82333; }
        #status {
            margin-top: 20px;
            padding: 15px;
            border-radius: 4px;
            background: #e3f2fd;
            white-space: pre-wrap;
            font-family: monospace;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .warning { background: #fff3cd; color: #856404; }
    </style>
</head>
<body>
    <div class="container">
        <h1>🎯 Import Coaches to Firestore</h1>
        <p><strong>Project:</strong> fit5032-nfp-wellness-e219a ✅</p>
        
        <div style="background: #e7f3ff; padding: 15px; border-radius: 4px; margin: 20px 0;">
            <strong>📋 Quick Start:</strong>
            <ol>
                <li>Click "Import All 3 Coaches"</li>
                <li>Wait for success message</li>
                <li>Visit http://localhost:5174/coaches</li>
                <li>You should see 3 coaches!</li>
            </ol>
        </div>

        <button onclick="importAllCoaches()">📥 Import All 3 Coaches</button>
        <button onclick="viewCoaches()">👀 View Current Data</button>
        <button class="danger" onclick="clearAllCoaches()">🗑️ Clear All Coaches</button>

        <div id="status">Ready. Click a button to start...</div>
    </div>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, doc, setDoc, getDocs, deleteDoc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        // CORRECT Firebase configuration for YOUR project
        const firebaseConfig = {
            apiKey: "AIzaSyB1Ipz08DVkqYqKxCbintGigABn82xHqIc",
            authDomain: "fit5032-nfp-wellness-e219a.firebaseapp.com",
            projectId: "fit5032-nfp-wellness-e219a",
            storageBucket: "fit5032-nfp-wellness-e219a.firebasestorage.app",
            messagingSenderId: "878056680267",
            appId: "1:878056680267:web:f2496c765f6cabf44256ce",
            measurementId: "G-XKHWZTXDS1"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        const coaches = [
            {
                id: 'coach-1',
                name: 'Jane Doe',
                specializations: ['Strength Training', 'Weight Management'],
                bio: 'A passionate coach dedicated to helping women find their strength and confidence through fitness.',
                photo: 'https://placehold.co/600x400/EFEFEF/333?text=Jane+D.',
                ratings: [5, 4, 5]
            },
            {
                id: 'coach-2',
                name: 'Sarah Smith',
                specializations: ['Yoga', 'Rehabilitation', 'Wellbeing'],
                bio: 'With a focus on mindful movement, Sarah helps clients connect their mind and body for long-term health.',
                photo: 'https://placehold.co/600x400/EFEFEF/333?text=Sarah+S.',
                ratings: [5, 5, 4]
            },
            {
                id: 'coach-3',
                name: 'Emily Jones',
                specializations: ['Cardio', 'Group Fitness'],
                bio: 'High-energy and motivating, Emily makes cardio fun and accessible for all fitness levels.',
                photo: 'https://placehold.co/600x400/EFEFEF/333?text=Emily+J.',
                ratings: [4]
            }
        ];

        // Import all coaches
        window.importAllCoaches = async function() {
            const statusDiv = document.getElementById('status');
            statusDiv.className = '';
            
            try {
                statusDiv.textContent = '⏳ Starting import...\n';
                statusDiv.textContent += `📝 Project: fit5032-nfp-wellness-e219a\n`;
                statusDiv.textContent += `📁 Collection: coaches\n\n`;
                
                let count = 0;
                for (const coach of coaches) {
                    statusDiv.textContent += `⏳ Importing ${coach.name}...\n`;
                    
                    await setDoc(doc(db, "coaches", coach.id), coach);
                    
                    statusDiv.textContent += `✅ ${coach.name} imported! (ID: ${coach.id})\n`;
                    count++;
                }
                
                statusDiv.textContent += '\n━━━━━━━━━━━━━━━━━━━━━━\n';
                statusDiv.textContent += `🎉 SUCCESS! Imported ${count}/3 coaches\n\n`;
                statusDiv.textContent += 'Next step:\n';
                statusDiv.textContent += '1. Visit: http://localhost:5174/coaches\n';
                statusDiv.textContent += '2. Press Ctrl+Shift+R to refresh\n';
                statusDiv.textContent += '3. You should see 3 coaches now!\n';
                statusDiv.className = 'success';
                
            } catch (error) {
                statusDiv.textContent = `❌ Import failed!\n\n`;
                statusDiv.textContent += `Error: ${error.message}\n`;
                statusDiv.textContent += `Code: ${error.code || 'N/A'}\n\n`;
                statusDiv.textContent += 'Press F12 to see console for details.';
                statusDiv.className = 'error';
                console.error('Import error:', error);
            }
        };

        // View coaches
        window.viewCoaches = async function() {
            const statusDiv = document.getElementById('status');
            statusDiv.className = '';
            
            try {
                statusDiv.textContent = '⏳ Loading from Firestore...\n\n';
                
                const snapshot = await getDocs(collection(db, "coaches"));
                
                if (snapshot.empty) {
                    statusDiv.textContent = '📭 NO COACHES FOUND\n\n';
                    statusDiv.textContent += 'The coaches collection is empty.\n';
                    statusDiv.textContent += 'Click "Import All 3 Coaches" to add data.';
                    statusDiv.className = 'warning';
                    return;
                }
                
                statusDiv.textContent = `📊 Found ${snapshot.size} coach(es):\n\n`;
                
                snapshot.forEach((docSnap) => {
                    const data = docSnap.data();
                    statusDiv.textContent += `━━━━━━━━━━━━━━━━━━━━━━\n`;
                    statusDiv.textContent += `ID: ${docSnap.id}\n`;
                    statusDiv.textContent += `Name: ${data.name}\n`;
                    statusDiv.textContent += `Specializations: ${data.specializations?.join(', ')}\n`;
                    statusDiv.textContent += `Ratings: [${data.ratings?.join(', ')}]\n`;
                    statusDiv.textContent += `Bio: ${data.bio?.substring(0, 50)}...\n\n`;
                });
                
                statusDiv.textContent += '✅ All coaches loaded!\n';
                statusDiv.className = 'success';
                
            } catch (error) {
                statusDiv.textContent = `❌ Failed to load!\n\n${error.message}`;
                statusDiv.className = 'error';
                console.error(error);
            }
        };

        // Clear all coaches
        window.clearAllCoaches = async function() {
            if (!confirm('⚠️ Delete all coaches? This cannot be undone!')) {
                return;
            }
            
            const statusDiv = document.getElementById('status');
            statusDiv.className = '';
            
            try {
                statusDiv.textContent = '⏳ Deleting all coaches...\n';
                
                const snapshot = await getDocs(collection(db, "coaches"));
                
                for (const docSnap of snapshot.docs) {
                    await deleteDoc(docSnap.ref);
                    statusDiv.textContent += `🗑️ Deleted: ${docSnap.id}\n`;
                }
                
                statusDiv.textContent += `\n✅ Deleted ${snapshot.size} coach(es)`;
                statusDiv.className = 'warning';
                
            } catch (error) {
                statusDiv.textContent = `❌ Delete failed!\n\n${error.message}`;
                statusDiv.className = 'error';
                console.error(error);
            }
        };
    </script>
</body>
</html>


